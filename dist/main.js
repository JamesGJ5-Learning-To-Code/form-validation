(()=>{"use strict";class s{constructor(s){this.errorMessageDisplayer=s}set errorMessage(s){this.displayErrorMessage(s),s?this.activate():this.deactivate()}displayErrorMessage(s){this.errorMessageDisplayer.textContent=s}activate(){this.errorMessageDisplayer.classList.add("active")}deactivate(){this.errorMessageDisplayer.classList.remove("active")}}class t{constructor(t,e){this.control=t,this.messageWhenInvalid="Invalid",this.errorHandler=new s(e),this.initialiseControl()}initialiseControl(){this.doValidityChecks=this.doValidityChecks.bind(this),this.control.addEventListener("focus",this.doValidityChecks),this.control.addEventListener("input",this.doValidityChecks)}doValidityChecks(){this.control.checkValidity()?this.cancelError():this.displayError()}displayError(){this.errorHandler.errorMessage=this.messageWhenInvalid}cancelError(){this.errorHandler.errorMessage=""}}class e extends t{constructor(s,t){super(s,t),this.messageWhenInvalid="A valid email address is required"}}class r extends t{constructor(s,t){super(s,t),this.messageWhenInvalid="A country selection is required"}}class a extends t{constructor(s,t){super(s,t),this.messageWhenInvalid="A valid zip code for the selected country is required"}}class i{constructor(t,e){this.input=t,this.errorHandler=new s(e)}}class o{constructor(t,e,r){this.confirmPasswordInput=t,this.passwordInput=e,this.errorHandler=new s(r)}}class d{static validatorList=[];static loadValidators(){const s=document.getElementById("email"),t=document.getElementById("email-error-message");d.loadEmailValidator(s,t);const e=document.getElementById("country"),r=document.getElementById("country-error-message");d.loadCountryValidator(e,r);const a=document.getElementById("zip-code"),i=document.getElementById("zip-code-error-message");d.loadZipCodeValidator(a,i);const o=document.getElementById("password-input"),n=document.getElementById("password-error-message");d.loadPasswordValidator(o,n);const l=document.getElementById("confirm-password-input"),c=document.getElementById("confirm-password-error-message");d.loadConfirmPasswordValidator(l,o,c)}static loadEmailValidator(s,t){const r=new e(s,t);d.validatorList.push(r)}static loadCountryValidator(s,t){const e=new r(s,t);d.validatorList.push(e)}static loadZipCodeValidator(s,t){const e=new a(s,t);d.validatorList.push(e)}static loadPasswordValidator(s,t){const e=new i(s,t);d.validatorList.push(e)}static loadConfirmPasswordValidator(s,t,e){const r=new o(s,t,e);d.validatorList.push(r)}static loadSubmissionValidator(s,t){return new SubmissionValidator(s,t)}}document.addEventListener("DOMContentLoaded",d.loadValidators)})();